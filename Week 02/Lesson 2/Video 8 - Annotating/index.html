<html>

<head>

</head>

<body>
    <svg id="container" height="300" width="500">
        <g id="body" style="transform:translate(100px,0px)"></g>
        <g id="xAxis"></g>

    </svg>
</body>
<script src="d3.js"></script>
<script>
    let body = d3.select("#body")
    d3.csv("data.csv").then(showData)

    function showData(clients) {
        let max = d3.max(clients, d => d.Weight)
        let scale = d3.scaleLinear().range([0, 300])
            .domain([0, max])

        let scalePosition = d3.scaleBand().range([0, 200]).domain(clients.map(d => d.Name))
        scalePosition.padding(0.3)
        let join = body.selectAll("rect")
            .data(clients)

        join.enter()
            .append("rect")
            .style("fill", "blue")
            .style("stroke", "white")
            .style("width", d => scale(d.Weight))
            .style("height", scalePosition.bandwidth())
            .style("y", d => scalePosition(d.Name))

        let xAxis = d3
            .select("#xAxis")
            .style("transform", "translate(100px, 200px)")
            .call(d3.axisBottom(scale))

        d3.select("#container")
            .append("g")
            .style("transform", "translate(100px, 0px)")
            .call(d3.axisLeft(scalePosition))



    }


</script>

</html>